{% assign ds = include.ds | default:',' %}{% assign ts = include.ts | default:'.' %}{% assign numdecimals = include.decimals | default:2 %}{% assign parts = include.number | round:numdecimals | split:'.' %}{% assign digits = parts[0] | split:'' %}{% for digit in digits %}{% assign threeFromEnd = digits.size | minus:forloop.index | modulo: 3 %}{% if threeFromEnd == 2 and forloop.index != 1 %}{{ digit | prepend: ts }}{% else %}{{ digit }}{% endif %}{% endfor %}{% if numdecimals > 0 %}{{ ds }}{% if parts.size == 1 %}{% assign decs = '0000000000' %}{% else %}{% assign decs = parts[1] | append:'0000000000' %}{% endif %}{% assign digits = decs | split:'' %}{% for digit in digits limit:numdecimals %}{{ digit }}{% endfor %}{% endif %}
{%- comment -%}From: https://gist.github.com/hexerei/5bd632b2a179717e219fbe18c5793181 {%- endcomment -%}